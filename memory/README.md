# 🧠 记忆与日志模块（memory）

## 模块简介
该模块用于记录用户与助手之间的所有交互内容，作为本地“记忆体”，支持情绪记录、长期偏好提取、行为模式识别等，未来可用于训练自定义对话人格。

---

## 核心功能
- 保存用户所有对话历史（含时间戳）
- 标注对话中的情绪、话题、关键词
- 提取用户长期偏好（如用词、情绪趋势、活动类型）
- 支持与 GPT 模型联合训练记忆

---

## 存储机制
- 所有原始对话保存为 JSON 文件
- 每条记录结构如下：
```json
{
  "timestamp": "2025-06-05 10:24:31",
  "user": "我今天好累",
  "assistant": "要不要我帮你放松一下？",
  "mood": "tired",
  "tags": ["情绪", "疲惫"]
}
```

---

## 日志分析与更新方式

### ✅ 本地分析模式
- 使用 Python 脚本周期性分析日志，识别关键词与倾向
- 输出 “用户画像” 与使用习惯数据

### ✅ 联合 GPT 更新模式
- 每晚上传最近对话日志
- GPT 输出总结、人格微调、语调/内容优化建议
- 写入本地个性配置文件

---

## 推荐依赖
- `datetime`, `json`, `os`
- （可选）`pandas`, `matplotlib` 用于日志可视化

---

## 使用方法
```python
from memory_logger import log_conversation
log_conversation("我想听一首轻音乐", "好的，正在播放《月光》", mood="relaxed")
```

---

## 开发计划
- [x] 基础日志记录功能
- [x] 时间戳 & 情绪标签
- [ ] 日志图表与统计分析
- [ ] 自动上传 GPT 生成记忆摘要
- [ ] 个性化配置文件写入支持
